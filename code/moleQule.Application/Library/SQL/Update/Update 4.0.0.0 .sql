/* UPDATE 4.0.0.0*/

SET SEARCH_PATH = "COMMON";

UPDATE "Variable" SET "VALUE" = '4.0.0.0' WHERE "NAME" = 'DB_VERSION';

INSERT INTO "COMMON"."SecureItem" ("NAME") VALUES ('Nominas');

ALTER TABLE "COMMON"."SecureItem" ADD COLUMN "TIPO" varchar(255);

UPDATE "COMMON"."SecureItem" SET "TIPO" = 'GENERICOS' WHERE "NAME" = 'Genericos';
UPDATE "COMMON"."SecureItem" SET "TIPO" = 'AUXILIARES' WHERE "NAME" = 'Tablas Auxiliares';
UPDATE "COMMON"."SecureItem" SET "TIPO" = 'ALUMNO' WHERE "NAME" = 'Alumnos';
UPDATE "COMMON"."SecureItem" SET "TIPO" = 'CURSO' WHERE "NAME" = 'Cursos';
UPDATE "COMMON"."SecureItem" SET "TIPO" = 'CURSO_FORMACION' WHERE "NAME" = 'Cursos de Formación';
UPDATE "COMMON"."SecureItem" SET "TIPO" = 'EXAMEN' WHERE "NAME" = 'Exámenes';
UPDATE "COMMON"."SecureItem" SET "TIPO" = 'HORARIO' WHERE "NAME" = 'Horarios';
UPDATE "COMMON"."SecureItem" SET "TIPO" = 'INSTRUCTOR' WHERE "NAME" = 'Instructores';
UPDATE "COMMON"."SecureItem" SET "TIPO" = 'MATERIAL_DOCENTE' WHERE "NAME" = 'Material Docente';
UPDATE "COMMON"."SecureItem" SET "TIPO" = 'MODULO' WHERE "NAME" = 'Módulos';
UPDATE "COMMON"."SecureItem" SET "TIPO" = 'PARTE_ASISTENCIA' WHERE "NAME" = 'Partes de Asistencia';
UPDATE "COMMON"."SecureItem" SET "TIPO" = 'PLAN_ESTUDIOS' WHERE "NAME" = 'Planes de Estudios';
UPDATE "COMMON"."SecureItem" SET "TIPO" = 'PLAN_EXTRA' WHERE "NAME" = 'Planes Extra';
UPDATE "COMMON"."SecureItem" SET "TIPO" = 'PROMOCION' WHERE "NAME" = 'Promociones';
UPDATE "COMMON"."SecureItem" SET "TIPO" = 'PROVEEDOR' WHERE "NAME" = 'Proveedores';
UPDATE "COMMON"."SecureItem" SET "TIPO" = 'PLAN_ANUAL' WHERE "NAME" = 'Planes Anuales';
UPDATE "COMMON"."SecureItem" SET "TIPO" = 'EMPLEADO' WHERE "NAME" = 'Empleados';
UPDATE "COMMON"."SecureItem" SET "TIPO" = 'DISCREPANCIA' WHERE "NAME" = 'Discrepancias';
UPDATE "COMMON"."SecureItem" SET "TIPO" = 'CLASE_AUDITORIA' WHERE "NAME" = 'Clases de Auditorías';
UPDATE "COMMON"."SecureItem" SET "TIPO" = 'AUDITORIA' WHERE "NAME" = 'Auditorías';
UPDATE "COMMON"."SecureItem" SET "TIPO" = 'AREA' WHERE "NAME" = 'Areas';
UPDATE "COMMON"."SecureItem" SET "TIPO" = 'AMPLIACION' WHERE "NAME" = 'Ampliaciones';
UPDATE "COMMON"."SecureItem" SET "TIPO" = 'ACTA_COMITE' WHERE "NAME" = 'Actas del Comité de Calidad';
UPDATE "COMMON"."SecureItem" SET "TIPO" = 'ACCION_CORRECTORA' WHERE "NAME" = 'Acciones Correctoras';
UPDATE "COMMON"."SecureItem" SET "TIPO" = 'CLIENTE' WHERE "NAME" = 'Clientes';
UPDATE "COMMON"."SecureItem" SET "TIPO" = 'FACTURA' WHERE "NAME" = 'Facturas';
UPDATE "COMMON"."SecureItem" SET "TIPO" = 'INCIDENCIA' WHERE "NAME" = 'Incidencias';
UPDATE "COMMON"."SecureItem" SET "TIPO" = 'ALMACEN' WHERE "NAME" = 'Almacenes';
UPDATE "COMMON"."SecureItem" SET "TIPO" = 'DOCUMENTO' WHERE "NAME" = 'Documento';
UPDATE "COMMON"."SecureItem" SET "TIPO" = 'EXPEDIENTE' WHERE "NAME" = 'Expedientes';
UPDATE "COMMON"."SecureItem" SET "TIPO" = 'PRODUCTO' WHERE "NAME" = 'Productos';
UPDATE "COMMON"."SecureItem" SET "TIPO" = 'TRANSPORTISTA' WHERE "NAME" = 'Transportistas';
UPDATE "COMMON"."SecureItem" SET "TIPO" = 'ALBARAN' WHERE "NAME" = 'Albaranes';
UPDATE "COMMON"."SecureItem" SET "TIPO" = 'CAJA' WHERE "NAME" = 'Cajas';
UPDATE "COMMON"."SecureItem" SET "TIPO" = 'PROFORMA' WHERE "NAME" = 'Proformas';
UPDATE "COMMON"."SecureItem" SET "TIPO" = 'FACTURA_PROVEEDOR' WHERE "NAME" = 'Facturas Proveedores';
UPDATE "COMMON"."SecureItem" SET "TIPO" = 'MOVIMIENTO_BANCO' WHERE "NAME" = 'Movimientos a Bancos';
UPDATE "COMMON"."SecureItem" SET "TIPO" = 'INFORME' WHERE "NAME" = 'Informes';
UPDATE "COMMON"."SecureItem" SET "TIPO" = 'NOMINA' WHERE "NAME" = 'Nominas';

--ACCION_CORRECTORA -> AUDITORIA

INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '1', ASI."OID", '1' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'ACCION_CORRECTORA' AND ASI."TIPO" = 'AUDITORIA'	;

INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '2', ASI."OID", '2' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'ACCION_CORRECTORA' AND ASI."TIPO" = 'AUDITORIA'	;

INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '3', ASI."OID", '3' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'ACCION_CORRECTORA' AND ASI."TIPO" = 'AUDITORIA'	;

INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '4', ASI."OID", '4' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'ACCION_CORRECTORA' AND ASI."TIPO" = 'AUDITORIA'	;
	
--AUDITORIA -> DISCREPANCIA

INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '1', ASI."OID", '1' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'AUDITORIA' AND ASI."TIPO" = 'DISCREPANCIA'	;

INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '2', ASI."OID", '2' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'AUDITORIA' AND ASI."TIPO" = 'DISCREPANCIA'	;

INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '3', ASI."OID", '3' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'AUDITORIA' AND ASI."TIPO" = 'DISCREPANCIA'	;

INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '4', ASI."OID", '4' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'AUDITORIA' AND ASI."TIPO" = 'DISCREPANCIA'	;
	
--AUDITORIA -> AMPLIACION

INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '1', ASI."OID", '1' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'AUDITORIA' AND ASI."TIPO" = 'AMPLIACION'	;
		
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '2', ASI."OID", '2' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'AUDITORIA' AND ASI."TIPO" = 'AMPLIACION'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '3', ASI."OID", '3' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'AUDITORIA' AND ASI."TIPO" = 'AMPLIACION'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '4', ASI."OID", '4' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'AUDITORIA' AND ASI."TIPO" = 'AMPLIACION'	;

--AUDITORIA -> ACCION_CORRECTORA

INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '1', ASI."OID", '1' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'AUDITORIA' AND ASI."TIPO" = 'ACCION_CORRECTORA'	;

INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '2', ASI."OID", '2' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'AUDITORIA' AND ASI."TIPO" = 'ACCION_CORRECTORA'	;

INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '3', ASI."OID", '3' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'AUDITORIA' AND ASI."TIPO" = 'ACCION_CORRECTORA'	;

INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '4', ASI."OID", '4' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'AUDITORIA' AND ASI."TIPO" = 'ACCION_CORRECTORA'	;
	
--CLASE_AUDITORIA -> AUDITORIA

INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '1', ASI."OID", '1' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'CLASE_AUDITORIA' AND ASI."TIPO" = 'AUDITORIA'	;

INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '2', ASI."OID", '2' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'CLASE_AUDITORIA' AND ASI."TIPO" = 'AUDITORIA'	;

INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '3', ASI."OID", '3' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'CLASE_AUDITORIA' AND ASI."TIPO" = 'AUDITORIA'	;

INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '4', ASI."OID", '4' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'CLASE_AUDITORIA' AND ASI."TIPO" = 'AUDITORIA'	;

--CLASE_AUDITORIA -> PLAN_ANUAL
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '1', ASI."OID", '1' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'CLASE_AUDITORIA' AND ASI."TIPO" = 'PLAN_ANUAL'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '2', ASI."OID", '2' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'CLASE_AUDITORIA' AND ASI."TIPO" = 'PLAN_ANUAL'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '3', ASI."OID", '3' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'CLASE_AUDITORIA' AND ASI."TIPO" = 'PLAN_ANUAL'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '4', ASI."OID", '4' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'CLASE_AUDITORIA' AND ASI."TIPO" = 'PLAN_ANUAL'	;

--DISCREPANCIA -> ACCION_CORRECTORA
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '1', ASI."OID", '1' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'DISCREPANCIA' AND ASI."TIPO" = 'ACCION_CORRECTORA'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '2', ASI."OID", '2' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'DISCREPANCIA' AND ASI."TIPO" = 'ACCION_CORRECTORA'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '3', ASI."OID", '3' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'DISCREPANCIA' AND ASI."TIPO" = 'ACCION_CORRECTORA'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '4', ASI."OID", '4' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'DISCREPANCIA' AND ASI."TIPO" = 'ACCION_CORRECTORA'	;

--DISCREPANCIA -> AMPLIACION
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '1', ASI."OID", '1' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'DISCREPANCIA' AND ASI."TIPO" = 'AMPLIACION'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '2', ASI."OID", '2' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'DISCREPANCIA' AND ASI."TIPO" = 'AMPLIACION'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '3', ASI."OID", '3' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'DISCREPANCIA' AND ASI."TIPO" = 'AMPLIACION'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '4', ASI."OID", '4' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'DISCREPANCIA' AND ASI."TIPO" = 'AMPLIACION'	;

--DISCREPANCIA -> AUDITORIA
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '1', ASI."OID", '1' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'DISCREPANCIA' AND ASI."TIPO" = 'AUDITORIA'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '2', ASI."OID", '2' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'DISCREPANCIA' AND ASI."TIPO" = 'AUDITORIA'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '3', ASI."OID", '3' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'DISCREPANCIA' AND ASI."TIPO" = 'AUDITORIA'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '4', ASI."OID", '4' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'DISCREPANCIA' AND ASI."TIPO" = 'AUDITORIA'	;

--ALUMNO -> MATERIAL_DOCENTE
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '1', ASI."OID", '1' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'ALUMNO' AND ASI."TIPO" = 'MATERIAL_DOCENTE'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '2', ASI."OID", '2' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'ALUMNO' AND ASI."TIPO" = 'MATERIAL_DOCENTE'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '3', ASI."OID", '3' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'ALUMNO' AND ASI."TIPO" = 'MATERIAL_DOCENTE'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '4', ASI."OID", '4' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'ALUMNO' AND ASI."TIPO" = 'MATERIAL_DOCENTE'	;

--ALUMNO -> PLAN_ESTUDIOS
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '1', ASI."OID", '1' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'ALUMNO' AND ASI."TIPO" = 'PLAN_ESTUDIOS'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '2', ASI."OID", '2' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'ALUMNO' AND ASI."TIPO" = 'PLAN_ESTUDIOS'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '3', ASI."OID", '3' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'ALUMNO' AND ASI."TIPO" = 'PLAN_ESTUDIOS'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '4', ASI."OID", '4' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'ALUMNO' AND ASI."TIPO" = 'PLAN_ESTUDIOS'	;

--CURSO -> INSTRUCTOR
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '1', ASI."OID", '1' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'CURSO' AND ASI."TIPO" = 'INSTRUCTOR'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '2', ASI."OID", '2' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'CURSO' AND ASI."TIPO" = 'INSTRUCTOR'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '3', ASI."OID", '3' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'CURSO' AND ASI."TIPO" = 'INSTRUCTOR'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '4', ASI."OID", '4' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'CURSO' AND ASI."TIPO" = 'INSTRUCTOR'	;

--CURSO -> MATERIAL_DOCENTE
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '1', ASI."OID", '1' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'CURSO' AND ASI."TIPO" = 'MATERIAL_DOCENTE'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '2', ASI."OID", '2' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'CURSO' AND ASI."TIPO" = 'MATERIAL_DOCENTE'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '3', ASI."OID", '3' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'CURSO' AND ASI."TIPO" = 'MATERIAL_DOCENTE'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '4', ASI."OID", '4' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'CURSO' AND ASI."TIPO" = 'MATERIAL_DOCENTE'	;

--CURSO -> ALUMNO
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '1', ASI."OID", '1' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'CURSO' AND ASI."TIPO" = 'ALUMNO'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '2', ASI."OID", '2' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'CURSO' AND ASI."TIPO" = 'ALUMNO'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '3', ASI."OID", '3' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'CURSO' AND ASI."TIPO" = 'ALUMNO'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '4', ASI."OID", '4' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'CURSO' AND ASI."TIPO" = 'ALUMNO'	;

--CURSO -> PLAN_ESTUDIOS
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '1', ASI."OID", '1' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'CURSO' AND ASI."TIPO" = 'PLAN_ESTUDIOS'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '2', ASI."OID", '2' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'CURSO' AND ASI."TIPO" = 'PLAN_ESTUDIOS'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '3', ASI."OID", '3' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'CURSO' AND ASI."TIPO" = 'PLAN_ESTUDIOS'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '4', ASI."OID", '4' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'CURSO' AND ASI."TIPO" = 'PLAN_ESTUDIOS'	;

--EXAMEN -> ALUMNO
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '1', ASI."OID", '1' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'EXAMEN' AND ASI."TIPO" = 'ALUMNO'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '2', ASI."OID", '2' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'EXAMEN' AND ASI."TIPO" = 'ALUMNO'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '3', ASI."OID", '3' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'EXAMEN' AND ASI."TIPO" = 'ALUMNO'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '4', ASI."OID", '4' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'EXAMEN' AND ASI."TIPO" = 'ALUMNO'	;

--HORARIO -> PARTE_ASISTENCIA
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '1', ASI."OID", '1' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'HORARIO' AND ASI."TIPO" = 'PARTE_ASISTENCIA'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '2', ASI."OID", '2' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'HORARIO' AND ASI."TIPO" = 'PARTE_ASISTENCIA'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '3', ASI."OID", '3' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'HORARIO' AND ASI."TIPO" = 'PARTE_ASISTENCIA'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '4', ASI."OID", '4' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'HORARIO' AND ASI."TIPO" = 'PARTE_ASISTENCIA'	;

--HORARIO -> ALUMNO
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '1', ASI."OID", '1' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'HORARIO' AND ASI."TIPO" = 'ALUMNO'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '2', ASI."OID", '2' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'HORARIO' AND ASI."TIPO" = 'ALUMNO'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '3', ASI."OID", '3' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'HORARIO' AND ASI."TIPO" = 'ALUMNO'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '4', ASI."OID", '4' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'HORARIO' AND ASI."TIPO" = 'ALUMNO'	;

--INSTRUCTOR -> CURSO_FORMACION
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '1', ASI."OID", '1' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'INSTRUCTOR' AND ASI."TIPO" = 'CURSO_FORMACION'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '2', ASI."OID", '2' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'INSTRUCTOR' AND ASI."TIPO" = 'CURSO_FORMACION'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '3', ASI."OID", '3' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'INSTRUCTOR' AND ASI."TIPO" = 'CURSO_FORMACION'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '4', ASI."OID", '4' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'INSTRUCTOR' AND ASI."TIPO" = 'CURSO_FORMACION'	;

--INSTRUCTOR -> FACTURA_PROVEEDOR
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '1', ASI."OID", '1' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'INSTRUCTOR' AND ASI."TIPO" = 'FACTURA_PROVEEDOR'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '2', ASI."OID", '2' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'INSTRUCTOR' AND ASI."TIPO" = 'FACTURA_PROVEEDOR'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '3', ASI."OID", '3' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'INSTRUCTOR' AND ASI."TIPO" = 'FACTURA_PROVEEDOR'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '4', ASI."OID", '4' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'INSTRUCTOR' AND ASI."TIPO" = 'FACTURA_PROVEEDOR'	;

--MATERIAL_DOCENTE -> PLAN_ESTUDIOS
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '1', ASI."OID", '1' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'MATERIAL_DOCENTE' AND ASI."TIPO" = 'PLAN_ESTUDIOS'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '2', ASI."OID", '2' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'MATERIAL_DOCENTE' AND ASI."TIPO" = 'PLAN_ESTUDIOS'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '3', ASI."OID", '3' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'MATERIAL_DOCENTE' AND ASI."TIPO" = 'PLAN_ESTUDIOS'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '4', ASI."OID", '4' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'MATERIAL_DOCENTE' AND ASI."TIPO" = 'PLAN_ESTUDIOS'	;

--MATERIAL_DOCENTE -> ALUMNO
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '1', ASI."OID", '1' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'MATERIAL_DOCENTE' AND ASI."TIPO" = 'ALUMNO'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '2', ASI."OID", '2' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'MATERIAL_DOCENTE' AND ASI."TIPO" = 'ALUMNO'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '3', ASI."OID", '3' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'MATERIAL_DOCENTE' AND ASI."TIPO" = 'ALUMNO'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '4', ASI."OID", '4' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'MATERIAL_DOCENTE' AND ASI."TIPO" = 'ALUMNO'	;

--MODULO -> EXAMEN
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '1', ASI."OID", '1' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'MODULO' AND ASI."TIPO" = 'EXAMEN'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '2', ASI."OID", '2' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'MODULO' AND ASI."TIPO" = 'EXAMEN'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '3', ASI."OID", '3' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'MODULO' AND ASI."TIPO" = 'EXAMEN'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '4', ASI."OID", '4' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'MODULO' AND ASI."TIPO" = 'EXAMEN'	;

--MODULO -> PLAN_ESTUDIOS
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '1', ASI."OID", '1' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'MODULO' AND ASI."TIPO" = 'PLAN_ESTUDIOS'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '2', ASI."OID", '2' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'MODULO' AND ASI."TIPO" = 'PLAN_ESTUDIOS'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '3', ASI."OID", '3' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'MODULO' AND ASI."TIPO" = 'PLAN_ESTUDIOS'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '4', ASI."OID", '4' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'MODULO' AND ASI."TIPO" = 'PLAN_ESTUDIOS'	;

--MODULO -> ALUMNO
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '1', ASI."OID", '1' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'MODULO' AND ASI."TIPO" = 'ALUMNO'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '2', ASI."OID", '2' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'MODULO' AND ASI."TIPO" = 'ALUMNO'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '3', ASI."OID", '3' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'MODULO' AND ASI."TIPO" = 'ALUMNO'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '4', ASI."OID", '4' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'MODULO' AND ASI."TIPO" = 'ALUMNO'	;

--PARTE_ASISTENCIA -> ALUMNO
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '1', ASI."OID", '1' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'PARTE_ASISTENCIA' AND ASI."TIPO" = 'ALUMNO'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '2', ASI."OID", '2' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'PARTE_ASISTENCIA' AND ASI."TIPO" = 'ALUMNO'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '3', ASI."OID", '3' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'PARTE_ASISTENCIA' AND ASI."TIPO" = 'ALUMNO'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '4', ASI."OID", '4' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'PARTE_ASISTENCIA' AND ASI."TIPO" = 'ALUMNO'	;

--PARTE_ASISTENCIA -> HORARIO
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '1', ASI."OID", '1' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'PARTE_ASISTENCIA' AND ASI."TIPO" = 'HORARIO'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '2', ASI."OID", '2' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'PARTE_ASISTENCIA' AND ASI."TIPO" = 'HORARIO'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '3', ASI."OID", '3' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'PARTE_ASISTENCIA' AND ASI."TIPO" = 'HORARIO'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '4', ASI."OID", '4' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'PARTE_ASISTENCIA' AND ASI."TIPO" = 'HORARIO'	;

--PROMOCION -> EXAMEN
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '1', ASI."OID", '1' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'PROMOCION' AND ASI."TIPO" = 'EXAMEN'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '2', ASI."OID", '2' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'PROMOCION' AND ASI."TIPO" = 'EXAMEN'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '3', ASI."OID", '3' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'PROMOCION' AND ASI."TIPO" = 'EXAMEN'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '4', ASI."OID", '4' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'PROMOCION' AND ASI."TIPO" = 'EXAMEN'	;

--PROMOCION -> ALUMNO
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '1', ASI."OID", '1' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'PROMOCION' AND ASI."TIPO" = 'ALUMNO'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '2', ASI."OID", '2' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'PROMOCION' AND ASI."TIPO" = 'ALUMNO'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '3', ASI."OID", '3' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'PROMOCION' AND ASI."TIPO" = 'ALUMNO'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '4', ASI."OID", '4' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'PROMOCION' AND ASI."TIPO" = 'ALUMNO'	;

--PROMOCION -> MATERIAL_DOCENTE
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '1', ASI."OID", '1' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'PROMOCION' AND ASI."TIPO" = 'MATERIAL_DOCENTE'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '2', ASI."OID", '2' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'PROMOCION' AND ASI."TIPO" = 'MATERIAL_DOCENTE'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '3', ASI."OID", '3' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'PROMOCION' AND ASI."TIPO" = 'MATERIAL_DOCENTE'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '4', ASI."OID", '4' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'PROMOCION' AND ASI."TIPO" = 'MATERIAL_DOCENTE'	;

--PROMOCION -> PLAN_ESTUDIOS
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '1', ASI."OID", '1' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'PROMOCION' AND ASI."TIPO" = 'PLAN_ESTUDIOS'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '2', ASI."OID", '2' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'PROMOCION' AND ASI."TIPO" = 'PLAN_ESTUDIOS'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '3', ASI."OID", '3' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'PROMOCION' AND ASI."TIPO" = 'PLAN_ESTUDIOS'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '4', ASI."OID", '4' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'PROMOCION' AND ASI."TIPO" = 'PLAN_ESTUDIOS'	;

--PROMOCION -> HORARIO
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '1', ASI."OID", '1' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'PROMOCION' AND ASI."TIPO" = 'HORARIO'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '2', ASI."OID", '2' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'PROMOCION' AND ASI."TIPO" = 'HORARIO'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '3', ASI."OID", '3' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'PROMOCION' AND ASI."TIPO" = 'HORARIO'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '4', ASI."OID", '4' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'PROMOCION' AND ASI."TIPO" = 'HORARIO'	;

--PROMOCION -> PARTE_ASISTENCIA
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '1', ASI."OID", '1' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'PROMOCION' AND ASI."TIPO" = 'PARTE_ASISTENCIA'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '2', ASI."OID", '2' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'PROMOCION' AND ASI."TIPO" = 'PARTE_ASISTENCIA'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '3', ASI."OID", '3' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'PROMOCION' AND ASI."TIPO" = 'PARTE_ASISTENCIA'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '4', ASI."OID", '4' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'PROMOCION' AND ASI."TIPO" = 'PARTE_ASISTENCIA'	;

--CLIENTE -> FACTURA
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '1', ASI."OID", '1' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'CLIENTE' AND ASI."TIPO" = 'FACTURA'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '2', ASI."OID", '2' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'CLIENTE' AND ASI."TIPO" = 'FACTURA'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '3', ASI."OID", '3' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'CLIENTE' AND ASI."TIPO" = 'FACTURA'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '4', ASI."OID", '4' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'CLIENTE' AND ASI."TIPO" = 'FACTURA'	;

--FACTURA -> EXPEDIENTE
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '1', ASI."OID", '1' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'FACTURA' AND ASI."TIPO" = 'EXPEDIENTE'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '2', ASI."OID", '2' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'FACTURA' AND ASI."TIPO" = 'EXPEDIENTE'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '3', ASI."OID", '3' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'FACTURA' AND ASI."TIPO" = 'EXPEDIENTE'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '4', ASI."OID", '4' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'FACTURA' AND ASI."TIPO" = 'EXPEDIENTE'	;

--AUXILIARES -> PROVEEDOR
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '1', ASI."OID", '1' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'AUXILIARES' AND ASI."TIPO" = 'PROVEEDOR'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '2', ASI."OID", '2' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'AUXILIARES' AND ASI."TIPO" = 'PROVEEDOR'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '3', ASI."OID", '3' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'AUXILIARES' AND ASI."TIPO" = 'PROVEEDOR'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '4', ASI."OID", '4' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'AUXILIARES' AND ASI."TIPO" = 'PROVEEDOR'	;

--EXPEDIENTE -> PRODUCTO
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '1', ASI."OID", '1' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'EXPEDIENTE' AND ASI."TIPO" = 'PRODUCTO'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '2', ASI."OID", '2' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'EXPEDIENTE' AND ASI."TIPO" = 'PRODUCTO'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '3', ASI."OID", '3' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'EXPEDIENTE' AND ASI."TIPO" = 'PRODUCTO'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '4', ASI."OID", '4' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'EXPEDIENTE' AND ASI."TIPO" = 'PRODUCTO'	;

--EXPEDIENTE -> FACTURA_PROVEEDOR
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '1', ASI."OID", '1' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'EXPEDIENTE' AND ASI."TIPO" = 'FACTURA_PROVEEDOR'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '2', ASI."OID", '2' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'EXPEDIENTE' AND ASI."TIPO" = 'FACTURA_PROVEEDOR'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '3', ASI."OID", '3' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'EXPEDIENTE' AND ASI."TIPO" = 'FACTURA_PROVEEDOR'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '4', ASI."OID", '4' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'EXPEDIENTE' AND ASI."TIPO" = 'FACTURA_PROVEEDOR'	;

--FACTURA_PROVEEDOR -> EXPEDIENTE
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '1', ASI."OID", '1' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'FACTURA_PROVEEDOR' AND ASI."TIPO" = 'EXPEDIENTE'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '2', ASI."OID", '2' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'FACTURA_PROVEEDOR' AND ASI."TIPO" = 'EXPEDIENTE'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '3', ASI."OID", '3' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'FACTURA_PROVEEDOR' AND ASI."TIPO" = 'EXPEDIENTE'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '4', ASI."OID", '4' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'FACTURA_PROVEEDOR' AND ASI."TIPO" = 'EXPEDIENTE'	;

--PROVEEDOR -> FACTURA_PROVEEDOR 
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '1', ASI."OID", '1' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'PROVEEDOR' AND ASI."TIPO" = 'FACTURA_PROVEEDOR'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '2', ASI."OID", '2' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'PROVEEDOR' AND ASI."TIPO" = 'FACTURA_PROVEEDOR'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '3', ASI."OID", '3' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'PROVEEDOR' AND ASI."TIPO" = 'FACTURA_PROVEEDOR'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '4', ASI."OID", '4' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'PROVEEDOR' AND ASI."TIPO" = 'FACTURA_PROVEEDOR'	;

--PRODUCTO -> CLIENTE
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '1', ASI."OID", '1' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'PRODUCTO' AND ASI."TIPO" = 'CLIENTE'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '2', ASI."OID", '2' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'PRODUCTO' AND ASI."TIPO" = 'CLIENTE'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '3', ASI."OID", '3' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'PRODUCTO' AND ASI."TIPO" = 'CLIENTE'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '4', ASI."OID", '4' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'PRODUCTO' AND ASI."TIPO" = 'CLIENTE'	;

--PRODUCTO -> EXPEDIENTE
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '1', ASI."OID", '1' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'PRODUCTO' AND ASI."TIPO" = 'EXPEDIENTE'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '2', ASI."OID", '2' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'PRODUCTO' AND ASI."TIPO" = 'EXPEDIENTE'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '3', ASI."OID", '3' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'PRODUCTO' AND ASI."TIPO" = 'EXPEDIENTE'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '4', ASI."OID", '4' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'PRODUCTO' AND ASI."TIPO" = 'EXPEDIENTE'	;

--PRODUCTO -> PROVEEDOR
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '1', ASI."OID", '1' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'PRODUCTO' AND ASI."TIPO" = 'PROVEEDOR'	;	
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '2', ASI."OID", '2' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'PRODUCTO' AND ASI."TIPO" = 'PROVEEDOR'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '3', ASI."OID", '3' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'PRODUCTO' AND ASI."TIPO" = 'PROVEEDOR'	;
	
INSERT INTO "COMMON"."ItemMap" ("OID_ITEM","PRIVILEGE","OID_ASSOCIATE_ITEM","ASSOCIATE_PRIVILEGE")  
	SELECT SI."OID", '4', ASI."OID", '4' 
	FROM "COMMON"."SecureItem" AS SI
	INNER JOIN "COMMON"."SecureItem" AS ASI ON SI."TIPO" = 'PRODUCTO' AND ASI."TIPO" = 'PROVEEDOR'	;

SET SEARCH_PATH = "0001";

ALTER TABLE "Empleado" ADD COLUMN "ESTADO" int8 DEFAULT 10;
ALTER TABLE "Empleado" ADD COLUMN "SUELDO_BRUTO" numeric(10,2) DEFAULT 0;

ALTER TABLE "Pago" ADD COLUMN "TIPO" bigint DEFAULT 1;

UPDATE "Pago" SET "TIPO" = 1;

--ALTER TABLE "Gasto" DROP CONSTRAINT "FK_Gasto_Expediente";
ALTER TABLE "Gasto" ADD COLUMN "SERIAL" bigint;
ALTER TABLE "Gasto" ADD COLUMN "CODIGO" varchar(255);
ALTER TABLE "Gasto" ADD COLUMN "OID_EMPLEADO" bigint;
ALTER TABLE "Gasto" ADD COLUMN "OID_NOMINA" bigint;
ALTER TABLE "Gasto" ADD COLUMN "ESTADO" bigint;
ALTER TABLE "Gasto" ADD COLUMN "OBSERVACIONES" text;
ALTER TABLE "Gasto" ADD COLUMN "OID_PAGO" bigint;
ALTER TABLE "Gasto" DROP COLUMN "FECHA_PAGO";
ALTER TABLE "Gasto" ADD COLUMN "FECHA" timestamp without time zone;

UPDATE "Gasto" SET "ESTADO" = 1;

UPDATE "Gasto" SET "FECHA" = F."FECHA"
FROM (SELECT "OID", "FECHA" FROM "FacturaProveedor") AS F
WHERE "Gasto"."OID_FACTURA" = F."OID";

UPDATE "Gasto" SET "SERIAL" = C."NROW", "CODIGO" = trim(to_char(C."NROW", '00000'))
FROM (SELECT "OID", ROW_NUMBER() OVER (ORDER BY "OID") AS "NROW"
     FROM "Gasto" 
	 WHERE "FECHA" BETWEEN '01/01/2010' AND '12/31/2010' 
     ORDER BY "OID", "CODIGO") AS C
WHERE "Gasto"."OID" = C."OID" AND "Gasto"."FECHA" >= '01/01/2010';

UPDATE "Gasto" SET "SERIAL" = C."NROW", "CODIGO" = trim(to_char(C."NROW", '00000'))
FROM (SELECT "OID", ROW_NUMBER() OVER (ORDER BY "OID") AS "NROW"
     FROM "Gasto" 
	 WHERE "FECHA" BETWEEN '01/01/2011' AND '12/31/2011' 
     ORDER BY "OID", "CODIGO") AS C
WHERE "Gasto"."OID" = C."OID" AND "Gasto"."FECHA" >= '01/01/2011';

UPDATE "Gasto" SET "SERIAL" = C."NROW", "CODIGO" = trim(to_char(C."NROW", '00000'))
FROM (SELECT "OID", ROW_NUMBER() OVER (ORDER BY "OID") AS "NROW"
     FROM "Gasto" 
	 WHERE "FECHA" BETWEEN '01/01/2012' AND '12/31/2012' 
     ORDER BY "OID", "CODIGO") AS C
WHERE "Gasto"."OID" = C."OID" AND "Gasto"."FECHA" >= '01/01/2012';

DROP TABLE IF EXISTS "RemesaNomina" CASCADE;
CREATE TABLE "RemesaNomina" 
( 
	"OID" bigserial NOT NULL,
	"SERIAL" bigint,
	"CODIGO" varchar(255),
	"FECHA" timestamp without time zone,
	"DESCRIPCION" text,
	"TOTAL" decimal(10,2),
	"IRPF" decimal(10,2),
	"SEGURO_EMPRESA" numeric(10,2),
	"SEGURO_PERSONAL" numeric(10,2) DEFAULT 0,
	"PREVISION_PAGO" timestamp without time zone,
	"ESTADO" int8 DEFAULT 1,
	"OBSERVACIONES" text,	
	CONSTRAINT "PK_Nomina" PRIMARY KEY ("OID")
) WITHOUT OIDS;

ALTER TABLE "RemesaNomina" OWNER TO moladmin;
GRANT ALL ON TABLE "RemesaNomina" TO GROUP "MOLEQULE_ADMINISTRATOR";

INSERT INTO "Privilege" ("OID_USER", "OID_ITEM", "READ", "CREATE", "MODIFY", "DELETE") 
	SELECT u."OID", i."OID", FALSE, FALSE, FALSE, FALSE 
	FROM "COMMON"."User" AS u, "COMMON"."SecureItem" AS i
	WHERE (u."OID", i."OID") NOT IN (SELECT "OID_USER", "OID_ITEM" FROM "Privilege");

ALTER TABLE "Alumno_Practica" ADD COLUMN "OID_PARTE" bigint NOT NULL;

ALTER TABLE "Alumno_Practica" ADD  CONSTRAINT fk_alumno_practica_parte_asistencia 
FOREIGN KEY ("OID_PARTE") REFERENCES "ParteAsistencia" ("OID") MATCH SIMPLE ON UPDATE CASCADE ON DELETE CASCADE;	